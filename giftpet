local TreeTable = {"Grey Mouse", "Brown Mouse", "Squirrel","Red Giant Ant","Red Fox","Caterpillar","Snail","Giant Ant","Praying Mantis","Dragonfly","Ostrich","Peacock","Capybara","Scarlet Macaw","Mimic Octopus","Raptor","Triceratops","Stegosaurus","Pterodactyl","Brontosaurus","T-Rex"}
local Players = game:GetService('Players')
local LocalPlayer = Players.LocalPlayer

-- wait for character to load
local function getCharacter()
    return LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
end

-- main loop: repeat every 1 second
while true do
    -- for each tool in backpack
    for _, item in ipairs(LocalPlayer.Backpack:GetChildren()) do
        for _, TreeName in ipairs(TreeTable) do
            if item.Name:find(TreeName) or item.Name == TreeName then
                -- loop through every player
                for _, TargetPlayer in ipairs(Players:GetPlayers()) do
                    if
                        TargetPlayer.Character
                        and TargetPlayer.Character:FindFirstChild(
                            'HumanoidRootPart'
                        )
                    then
                        local prompt =
                            TargetPlayer.Character.HumanoidRootPart:FindFirstChildWhichIsA(
                                'ProximityPrompt',
                                true
                            )
                        if prompt then
                            pcall(function()
                                -- keep equipping until the prompt is gone
                                repeat
                                    local char = getCharacter()
                                    if
                                        char:FindFirstChild('Humanoid')
                                        and char:FindFirstChildOfClass(
                                                'Tool'
                                            )
                                            ~= item
                                    then
                                        char.Humanoid:EquipTool(item)
                                    end
                                    task.wait() -- small throttle
                                until not TargetPlayer.Character
                                    or not TargetPlayer.Character:FindFirstChild(
                                        'HumanoidRootPart'
                                    )
                            end)
                        end
                    end
                end
            end
        end
    end

    task.wait(1) -- wait 1 second before repeating
end
